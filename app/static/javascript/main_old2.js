// Generated by CoffeeScript 1.8.0
(function() {
  var callback, getData, initialize, map, mapOptions, setMarkers;

  mapOptions = {
    zoom: 3,
    center: new google.maps.LatLng(41.850033, -87.6500523)
  };

  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  initialize = function() {
    getData();
  };


  /**
   * Data for the markers consisting of a name, a LatLng and a zIndex for
   * the order in which these markers should display on top of each
   * other.
   */

  callback = function(data) {
    return setMarkers(map, data.contents);
  };

  getData = function() {
    $.ajax({
      url: '/get_photos',
      data: {
        dir: '/Pictures/Picture a day'
      },
      type: 'GET',
      success: callback
    });
  };

  setMarkers = function(map, locations) {
    var i, location, marker, myLatLng, photo;
    i = 0;
    while (i < locations.length) {
      photo = locations[i];
      location = photo['photo_info']['lat_long'];
      if (location === null) {
        i++;
      }
      continue;
      myLatLng = new google.maps.LatLng(location[0], location[1]);
      marker = new google.maps.Marker({
        position: myLatLng,
        map: map
      });
      i++;
    }
  };

  google.maps.event.addDomListener(window, 'load', initialize);

}).call(this);
